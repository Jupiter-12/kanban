# 实现任务清单

## 后端数据模型

- [x] 用户模型添加 role 字段（枚举：owner, admin, user）
- [x] 创建数据库迁移脚本
- [x] 修改用户注册逻辑（首个用户成为所有者）

## 后端服务层

- [x] 创建权限检查函数
  - [x] can_edit_project - 检查编辑权限（所有者、管理员、或项目创建者）
  - [x] can_manage_members - 检查成员管理权限（仅所有者）
- [x] 创建角色管理服务
  - [x] set_role - 设置用户角色（仅所有者可调用）

## 后端 API 层

- [x] 修改项目列表 API（返回所有项目）
- [x] 修改项目详情 API（允许所有用户访问）
- [x] 修改项目编辑 API（添加权限检查）
- [x] 修改列/任务 API（添加权限检查）
- [x] 新增角色管理 API（仅所有者可用）
  - [x] PUT /users/{id}/role
  - [x] GET /users（获取用户列表）

## 前端类型定义

- [x] 更新 User 类型（添加 role 字段）

## 前端 API 层

- [x] 添加角色管理 API 调用函数
- [x] 添加用户列表 API 调用函数

## 前端组件

- [x] 修改项目卡片显示（区分可编辑/只读）
- [x] 修改看板页面（根据权限显示编辑按钮）
- [x] 创建角色管理界面（仅所有者可见）

## 测试

- [x] 后端测试用例（覆盖率 97%）
- [x] 创建快捷测试脚本 scripts/test-user-role.bat
